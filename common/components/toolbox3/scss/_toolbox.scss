@use "../../../styles/common";
@use "../../../themes/theme" as theme;
@use "../../../components/toggle-expand-icon/style" as toggle-expand-icon;
@use "./menu" as menu;

$bg: #35455e;
$border-color: #eeeeee33;

$toolbox: (
  width: 130px,
  height: 80px,
  min-size: 28px,
);

@mixin l-toolbox {
  &.is-layout {
    &--column {
      &.irm-toolbox {
        flex-direction: column;
        height: 100%;
        width: map-get($toolbox, "width");
      }

      .irm-toolbox {
        &__logo {
          width: 100%;
          height: fit-content;
        }

        &__drag-point {
          width: 100%;
          height: map-get($toolbox, "min-size");

          justify-content: flex-start;

          border-top: 1px;
          border-bottom: 1px;
          border-left: 0;
          border-right: 0;
          border-style: dashed;
          border-color: $border-color;

          box-shadow: 0px 0px 2px $border-color;

          margin: 2px 0;
        }

        &__menus {
          flex: 1;
          flex-direction: column;
          padding: 24px 0;
        }
      }
    }
  }
}

@mixin s-toolbox {
  &.is-shrink {
    &--horizontal {
      &.irm-toolbox {
        width: map-get($toolbox, "min-size");
      }
      .irm-toolbox {
        &__menus {
          display: none;
        }
      }
    }

    &--vertical {
      &.irm-toolbox {
        height: map-get($toolbox, "min-size");
      }

      .irm-toolbox {
        &__logo {
          width: fit-content;
          aspect-ratio: unset;
        }

        &__menus {
          display: none;
        }
      }
    }
  }
}

.irm-toolbox {
  display: flex;
  width: 100%;
  height: map-get($toolbox, "height");

  transition: all 0.2s ease-in-out;

  background-color: $bg;

  @include l-toolbox;
  @include s-toolbox;

  &__logo {
    width: map-get($toolbox, "width");
    aspect-ratio: 16/10;
  }

  &__drag-point {
    display: flex;
    justify-content: center;

    width: map-get($toolbox, "min-size");
    height: 100%;

    padding: 4px;

    border-left: 1px;
    border-right: 1px;
    border-style: dashed;
    border-color: $border-color;

    box-shadow: 0px 0px 2px $border-color;
  }

  &__menus {
    display: flex;
    align-items: center;

    width: 100%;
    height: 100%;

    padding: 0 24px;

    overflow-y: hidden;
    overflow-x: auto;
  }
}
